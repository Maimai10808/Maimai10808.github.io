<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>From Long Functions to Modular Code - Refactoring the User Account Creation Flow | VermeerByte's Blog</title><meta name="author" content="VermeerByte"><meta name="copyright" content="VermeerByte"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Ⅰ.IntroductionIn my recent iOS project ChatApp , I refactored the account creation functionality. The original code was overly long and lacked modularity, making it difficult to maintain and extend.">
<meta property="og:type" content="article">
<meta property="og:title" content="From Long Functions to Modular Code - Refactoring the User Account Creation Flow">
<meta property="og:url" content="https://maimai10808.github.io/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/index.html">
<meta property="og:site_name" content="VermeerByte&#39;s Blog">
<meta property="og:description" content="Ⅰ.IntroductionIn my recent iOS project ChatApp , I refactored the account creation functionality. The original code was overly long and lacked modularity, making it difficult to maintain and extend.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://maimai10808.github.io/images/swift.svg">
<meta property="article:published_time" content="2025-07-24T16:00:00.000Z">
<meta property="article:modified_time" content="2025-07-21T20:26:28.749Z">
<meta property="article:author" content="VermeerByte">
<meta property="article:tag" content="Code Refactoring">
<meta property="article:tag" content="Functional Programming">
<meta property="article:tag" content="Closures">
<meta property="article:tag" content="Memory Management">
<meta property="article:tag" content="Firebase">
<meta property="article:tag" content="UI Updates">
<meta property="article:tag" content="Performance Optimization">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://maimai10808.github.io/images/swift.svg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "From Long Functions to Modular Code - Refactoring the User Account Creation Flow",
  "url": "https://maimai10808.github.io/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/",
  "image": "https://maimai10808.github.io/images/swift.svg",
  "datePublished": "2025-07-24T16:00:00.000Z",
  "dateModified": "2025-07-21T20:26:28.749Z",
  "author": [
    {
      "@type": "Person",
      "name": "VermeerByte",
      "url": "https://maimai10808.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/images/logo.png"><link rel="canonical" href="https://maimai10808.github.io/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'From Long Functions to Modular Code - Refactoring the User Account Creation Flow',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/images/imagelogo1.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/images/swift.svg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/images/logo.png" alt="Logo"><span class="site-name">VermeerByte's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">From Long Functions to Modular Code - Refactoring the User Account Creation Flow</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">From Long Functions to Modular Code - Refactoring the User Account Creation Flow</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-24T16:00:00.000Z" title="Created 2025-07-25 00:00:00">2025-07-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-07-21T20:26:28.749Z" title="Updated 2025-07-22 04:26:28">2025-07-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Best-Practices/">Best Practices</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Ⅰ-Introduction"><a href="#Ⅰ-Introduction" class="headerlink" title="Ⅰ.Introduction"></a>Ⅰ.Introduction</h1><p>In my recent iOS project <a target="_blank" rel="noopener" href="https://github.com/Maimai10808/ChatApp">ChatApp</a> , I refactored the account creation functionality. The original code was overly long and lacked modularity, making it difficult to maintain and extend. </p>
<p>By refactoring the code, I improved its readability, maintainability, and reduced potential memory leak risks. In this blog, I will share a comparison of the code before and after the refactor, as well as the advantages of the refactor and the lessons learned.</p>
<p>Here is the whole code before the refactor:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> FirebaseAuth</span><br><span class="line"><span class="keyword">import</span> FirebaseDatabase</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CreateAccountViewController</span>: <span class="title class_ inherited__">UIViewController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...view...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">createAccountButtonTapped</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">        showLoadingView()</span><br><span class="line"></span><br><span class="line">        <span class="type">Database</span>.database().reference().child(<span class="string">&quot;usernames&quot;</span>).child(username).observeSingleEvent(of: .value) &#123; snapshot <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">guard</span> <span class="operator">!</span>snapshot.exists() <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">self</span>.presentErrorAlert(title  : <span class="string">&quot;Usename In Use&quot;</span>,</span><br><span class="line">                                            message: <span class="string">&quot;Please enter a different name to continue.&quot;</span>)</span><br><span class="line">                    <span class="keyword">self</span>.removeLoadingView()</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="type">Auth</span>.auth().createUser(withEmail: email, password: password) &#123; result, error <span class="keyword">in</span></span><br><span class="line">                    <span class="keyword">self</span>.removeLoadingView()</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line">                        <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">                        <span class="keyword">var</span> errorMessage <span class="operator">=</span> <span class="string">&quot;Something went wrong. Please try again later.&quot;</span></span><br><span class="line"></span><br><span class="line">                        <span class="keyword">let</span> errorCode <span class="operator">=</span> (error <span class="keyword">as</span> <span class="type">NSError</span>).code</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">let</span> authError <span class="operator">=</span> <span class="type">AuthErrorCode</span>(rawValue: errorCode) &#123;</span><br><span class="line">                            <span class="comment">// 可以 switch 来区分错误类型了</span></span><br><span class="line">                            <span class="keyword">switch</span> authError &#123;</span><br><span class="line">                            <span class="keyword">case</span> .emailAlreadyInUse:</span><br><span class="line">                                errorMessage <span class="operator">=</span> <span class="string">&quot;Email already in use.&quot;</span></span><br><span class="line">                            <span class="keyword">case</span> .invalidEmail:</span><br><span class="line">                                errorMessage <span class="operator">=</span> <span class="string">&quot;Invalid email.&quot;</span></span><br><span class="line">                            <span class="keyword">case</span> .weakPassword:</span><br><span class="line">                                errorMessage <span class="operator">=</span> <span class="string">&quot;Weak password. Please use at least 6 characters.&quot;</span></span><br><span class="line">                            <span class="keyword">default</span>:</span><br><span class="line">                                <span class="keyword">break</span> <span class="comment">// 使用默认的 errorMessage</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        <span class="keyword">self</span>.presentErrorAlert(title  : <span class="string">&quot;Create Account Failed&quot;</span>,</span><br><span class="line">                                               message: errorMessage )</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">self</span>.presentErrorAlert(title  : <span class="string">&quot;Create Account Failed&quot;</span>,</span><br><span class="line">                                               message: <span class="string">&quot;Something went wrong. Please try again later.&quot;</span>)</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">let</span> userId <span class="operator">=</span> result.user.uid</span><br><span class="line">                    <span class="keyword">let</span> userData: [<span class="type">String</span>: <span class="keyword">Any</span>] <span class="operator">=</span> [</span><br><span class="line">                        <span class="string">&quot;id&quot;</span>: userId,</span><br><span class="line">                        <span class="string">&quot;username&quot;</span>: username</span><br><span class="line">                    ]</span><br><span class="line"></span><br><span class="line">                    <span class="type">Database</span>.database().reference()</span><br><span class="line">                        .child(<span class="string">&quot;users&quot;</span>)</span><br><span class="line">                        .child(userId)</span><br><span class="line">                        .setValue(userData)</span><br><span class="line"></span><br><span class="line">                    <span class="type">Database</span>.database().reference()</span><br><span class="line">                        .child(<span class="string">&quot;usernames&quot;</span>)</span><br><span class="line">                        .child(username)</span><br><span class="line">                        .setValue(userData)</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// ...function...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Ⅱ-Project-Background-Problem"><a href="#Ⅱ-Project-Background-Problem" class="headerlink" title="Ⅱ.Project Background &amp; Problem"></a>Ⅱ.Project Background &amp; Problem</h1><p>In the original code, the <strong>createAccountButtonTapped</strong> function handles multiple tasks, which makes the code overly long. <em>User input validation</em>, <em>database operations</em>, and <em>UI updates</em> are all performed within the same function, reducing the code’s readability and maintainability. </p>
<p>Additionally, the repeated error handling leads to code duplication.</p>
<h1 id="Ⅲ-Refactor"><a href="#Ⅲ-Refactor" class="headerlink" title="Ⅲ.Refactor"></a>Ⅲ.Refactor</h1><p>The purpose of the refactor is to <strong>simplify the code structure</strong> and <strong>improve its maintainability and scalability</strong>. </p>
<h2 id="Single-Responsibility-Principle-SRP"><a href="#Single-Responsibility-Principle-SRP" class="headerlink" title="Single Responsibility Principle (SRP)"></a>Single Responsibility Principle (SRP)</h2><p>The <strong>Single Responsibility Principle (SRP)</strong> is one of the five SOLID principles of object-oriented design, introduced by Robert C. Martin. It states that:</p>
<p><em>“A class should have only one reason to change.”</em></p>
<p>In other words, a class (or function) should only have one job or responsibility.</p>
<p> If a class or function is responsible for more than one task, it becomes harder to maintain and modify, because changes in one area could affect the other areas, leading to bugs or unintended side effects.</p>
<p><strong>Key Points of SRP:</strong></p>
<ol>
<li><strong>Separation of Concerns</strong>:<br>SRP encourages separating different concerns or functionalities into distinct classes or methods. For example, if you have a class that handles both user authentication and database operations, it would violate SRP because it has more than one reason to change.</li>
<li><strong>Maintainability</strong>:<br>When a class has a single responsibility, it’s easier to understand, test, and modify. If a change is needed in one area, only that class or function will be affected, making the process smoother and less risky.</li>
<li><strong>Extensibility</strong>:<br>With SRP, extending functionality is simpler. If a class is focused on a single responsibility, you can easily add new features without impacting existing code.</li>
<li><strong>Example</strong>:<br>If you have a UserManager class that handles both the registration of new users and email notifications, it should be refactored. The user registration logic could go into one class, and the email notification logic into another, as they represent different concerns.</li>
</ol>
<p><strong>Why SRP is Important</strong>:</p>
<ul>
<li><strong>Simplifies Code</strong>: Code is easier to understand when each class or function has a single responsibility.</li>
<li><strong>Reduces Complexity</strong>: By isolating concerns, SRP reduces the complexity of code, making it easier to maintain and test.</li>
<li><strong>Improves Flexibility</strong>: Since classes have a single responsibility, they are less likely to break when changes are made, improving the flexibility of your codebase.</li>
</ul>
<p>By adhering to SRP, you ensure that your code is <strong>modula</strong>r, <strong>maintainable</strong>, and <strong>easier to extend in the long term</strong>.</p>
<p>By applying the Single Responsibility Principle (SRP), we can break down the large function triggered by the button press into three main responsibilities. </p>
<ol>
<li><strong>First</strong>, we check if the username is already registered, i.e., if the name already exists. </li>
<li><strong>Second</strong>, if the username is available, we proceed to send a request to the server to register the new user and write the data.</li>
</ol>
<p>Here we go!</p>
<h2 id="checkIfExists"><a href="#checkIfExists" class="headerlink" title="checkIfExists()"></a>checkIfExists()</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">func checkIfExists(username: String, completion: @escaping (_ result: Bool) -&gt; Void ) &#123;</span><br><span class="line"></span><br><span class="line">        Database.database().reference().child(&quot;usernames&quot;).child(username)</span><br><span class="line">            .observeSingleEvent(of: .value) &#123; snapshot in</span><br><span class="line"></span><br><span class="line">                guard !snapshot.exists() else &#123;</span><br><span class="line">                   completion(true)</span><br><span class="line">                    return</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                completion(false)</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>This function, <strong>checkIfExists</strong>, checks whether a username already exists in the database. Its sole responsibility is to perform this task, which aligns with <em>the Single Responsibility Principle</em>. The expected outcome of this function is simply to tell us whether the username exists or not.</p>
<p>Now, regarding the concept of escaping closures, if you’re not familiar with it, I recommend checking out my article<a target="_blank" rel="noopener" href="https://github.com/Maimai10808/ChatApp">ChatApp</a> . In simple terms, an escaping closure means that the closure’s parameter (in this case, the completion handler) might be used later, outside the scope of the current function. The parameter could be a string, a number, or even another function, indicating that this function might use it later.</p>
<p>In this case, the completion handler returns a Bool, which tells us whether the username exists or not. By using this escaping closure, we simplify the function and enhance its readability, allowing us to delegate the responsibility of checking the username’s existence to this isolated function. This improves the clarity and maintainability of our code.</p>
<p>This function is dedicated solely to checking whether a username exists, and by using an escaping closure, we make the process more modular and the code cleaner.</p>
<h2 id="createUser"><a href="#createUser" class="headerlink" title="createUser()"></a>createUser()</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Function to create a user using Firebase Authentication</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">createUser</span>(<span class="params">username</span>: <span class="type">String</span>, <span class="params">email</span>: <span class="type">String</span>, <span class="params">password</span>: <span class="type">String</span>, <span class="params">completion</span>: <span class="keyword">@escaping</span> (<span class="keyword">_</span> result: <span class="type">AuthDataResult</span>?, <span class="keyword">_</span> error: <span class="type">String</span>?) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Attempt to create a user with email and password using Firebase</span></span><br><span class="line">    <span class="type">Auth</span>.auth().createUser(withEmail: email, password: password) &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] result, error <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf <span class="operator">=</span> <span class="keyword">self</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">        strongSelf.removeLoadingView() <span class="comment">// Hide loading view after the operation</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Handle errors from Firebase authentication</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line">            <span class="keyword">var</span> errorMessage <span class="operator">=</span> <span class="string">&quot;Something went wrong. Please try again later.&quot;</span></span><br><span class="line">            <span class="keyword">let</span> errorCode <span class="operator">=</span> (error <span class="keyword">as</span> <span class="type">NSError</span>).code</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> authError <span class="operator">=</span> <span class="type">AuthErrorCode</span>(rawValue: errorCode) &#123;</span><br><span class="line">                <span class="keyword">switch</span> authError &#123;</span><br><span class="line">                <span class="keyword">case</span> .emailAlreadyInUse:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Email already in use.&quot;</span></span><br><span class="line">                <span class="keyword">case</span> .invalidEmail:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Invalid email.&quot;</span></span><br><span class="line">                <span class="keyword">case</span> .weakPassword:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Weak password. Please use at least 6 characters.&quot;</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            completion(<span class="literal">nil</span>, errorMessage)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Return the result if user creation is successful</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">            completion(<span class="literal">nil</span>, <span class="string">&quot;Something went wrong. Please try again later.&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        completion(result, <span class="literal">nil</span>) <span class="comment">// Pass the result to the completion handler</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">createUser</span>(<span class="params">username</span>: <span class="type">String</span>, <span class="params">email</span>: <span class="type">String</span>, <span class="params">password</span>: <span class="type">String</span>, <span class="params">completion</span>: <span class="keyword">@escaping</span> (<span class="keyword">_</span> result: <span class="type">AuthDataResult</span>?, <span class="keyword">_</span> error: <span class="type">String</span>?) -&gt; <span class="type">Void</span>) &#123; <span class="operator">...</span>code<span class="operator">...</span> &#125;</span><br></pre></td></tr></table></figure>

<p>This function, responsible for creating the user, has parameters that include both a result and an error.<br>This indicates that the function’s purpose is to return two pieces of information: the result and the error message.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Auth</span>.auth().createUser(withEmail: email, password: password) &#123;[<span class="keyword">weak</span> <span class="keyword">self</span>] result, error <span class="keyword">in</span> <span class="operator">...</span>code<span class="operator">...</span>&#125;</span><br></pre></td></tr></table></figure>

<p> Essentially, this function is used for user creation. After uploading the data to the server, if the user is successfully created, the function returns the result.<br>However, if an error occurs, instead of returning the result, it returns the error message. </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[<span class="keyword">weak</span> <span class="keyword">self</span>] result, error <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf <span class="operator">=</span> <span class="keyword">self</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">        strongSelf.removeLoadingView() <span class="comment">// Hide loading view after the operation</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Handle errors from Firebase authentication</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line">            <span class="keyword">var</span> errorMessage <span class="operator">=</span> <span class="string">&quot;Something went wrong. Please try again later.&quot;</span></span><br><span class="line">            <span class="keyword">let</span> errorCode <span class="operator">=</span> (error <span class="keyword">as</span> <span class="type">NSError</span>).code</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> authError <span class="operator">=</span> <span class="type">AuthErrorCode</span>(rawValue: errorCode) &#123;</span><br><span class="line">                <span class="keyword">switch</span> authError &#123;</span><br><span class="line">                <span class="keyword">case</span> .emailAlreadyInUse:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Email already in use.&quot;</span></span><br><span class="line">                <span class="keyword">case</span> .invalidEmail:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Invalid email.&quot;</span></span><br><span class="line">                <span class="keyword">case</span> .weakPassword:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Weak password. Please use at least 6 characters.&quot;</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            completion(<span class="literal">nil</span>, errorMessage)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Return the result if user creation is successful</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">            completion(<span class="literal">nil</span>, <span class="string">&quot;Something went wrong. Please try again later.&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        completion(result, <span class="literal">nil</span>) <span class="comment">// Pass the result to the completion handler</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>The function’s main role is to interact with the server, upload the user information, and provide feedback in the form of either a success result or an error message.</p>
<p>If you’re a beginner developer, you might have some confusion about weak self and the concepts above. Don’t worry!</p>
<p>The purpose of using <strong>[weak self]</strong> is to avoid <strong>retain cycles</strong>, which can lead to <strong>memory leaks</strong>. It ensures that self (the view controller) is not strongly captured by the closure, allowing it to be <strong>deallocated</strong> if needed.</p>
<p>The <code>guard let strongSelf = self else &#123; return &#125;</code> statement is used to safely unwrap self inside the closure. If self has been <strong>deallocated</strong>, the closure will return early, preventing any crashes.</p>
<p>For a more detailed explanation of these concepts, check out my other article.</p>
<p>So, the purpose of this function is simply to determine the result and error based on the upload status and uploading.</p>
<h2 id="createAccountButtonTapped"><a href="#createAccountButtonTapped" class="headerlink" title="createAccountButtonTapped"></a>createAccountButtonTapped</h2><p>We have already defined the responsibilities of the two functions: one checks if the username exists, and the other checks if the user creation was successful. Now, we need to connect these two functions.<br> For example, when the button is pressed, they should start working together.</p>
<p>First, we need to check if the username already exists. This is done by calling the checkIfExists function.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">checkIfExists(username: username) &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] usernameExists <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf <span class="operator">=</span> <span class="keyword">self</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">            <span class="keyword">if</span> <span class="operator">!</span>usernameExists &#123; <span class="operator">...</span>code<span class="operator">...</span> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                strongSelf.presentErrorAlert(title  : <span class="string">&quot;Usename In Use&quot;</span>,</span><br><span class="line">                                       message: <span class="string">&quot;Please enter a different name to continue.&quot;</span>)</span><br><span class="line">                strongSelf.removeLoadingView()</span><br><span class="line">            &#125;</span><br><span class="line">                </span><br></pre></td></tr></table></figure>

<p> Inside this function, if the username does not exist, we proceed to create the user.<br> If the user is successfully created, we can move forward with the next steps.</p>
<p>However, if there is an error during user creation, we handle it by displaying an error message. If there is no error, the user’s data will be uploaded successfully.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">strongSelf.createUser(username: username, email: email, password: password) &#123; result, error <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                            strongSelf.presentErrorAlert(title: <span class="string">&quot;Create Account Failed&quot;</span>, message: error)</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">                        strongSelf.presentErrorAlert(title: <span class="string">&quot;Create Account Failed&quot;</span>, message: <span class="string">&quot;Please try again later.&quot;</span>)</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Upload Firebase Realtime Database：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Firebase Realtime Database</span></span><br><span class="line"><span class="keyword">let</span> userId <span class="operator">=</span> result.user.uid</span><br><span class="line">                    <span class="keyword">let</span> userData: [<span class="type">String</span>: <span class="keyword">Any</span>] <span class="operator">=</span> [</span><br><span class="line">                        <span class="string">&quot;id&quot;</span>: userId,</span><br><span class="line">                        <span class="string">&quot;username&quot;</span>: username</span><br><span class="line">                    ]</span><br><span class="line"></span><br><span class="line">                    <span class="type">Database</span>.database().reference()</span><br><span class="line">                        .child(<span class="string">&quot;users&quot;</span>)</span><br><span class="line">                        .child(userId)</span><br><span class="line">                        .setValue(userData)</span><br><span class="line"></span><br><span class="line">                    <span class="type">Database</span>.database().reference()</span><br><span class="line">                        .child(<span class="string">&quot;usernames&quot;</span>)</span><br><span class="line">                        .child(username)</span><br><span class="line">                        .setValue(userData)</span><br></pre></td></tr></table></figure>

<p>So, this part of the code is written like this in the end：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">createAccountButtonTapped</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line"></span><br><span class="line">checkIfExists(username: username) &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] usernameExists <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf <span class="operator">=</span> <span class="keyword">self</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">            <span class="keyword">if</span> <span class="operator">!</span>usernameExists &#123;</span><br><span class="line">                strongSelf.createUser(username: username, email: email, password: password) &#123; result, error <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                            strongSelf.presentErrorAlert(title: <span class="string">&quot;Create Account Failed&quot;</span>, message: error)</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">                        strongSelf.presentErrorAlert(title: <span class="string">&quot;Create Account Failed&quot;</span>, message: <span class="string">&quot;Please try again later.&quot;</span>)</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    &#125;</span><br><span class="line">              <span class="comment">// Firebase Realtime Database</span></span><br><span class="line">                    <span class="keyword">let</span> userId <span class="operator">=</span> result.user.uid</span><br><span class="line">                    <span class="keyword">let</span> userData: [<span class="type">String</span>: <span class="keyword">Any</span>] <span class="operator">=</span> [</span><br><span class="line">                        <span class="string">&quot;id&quot;</span>: userId,</span><br><span class="line">                        <span class="string">&quot;username&quot;</span>: username</span><br><span class="line">                    ]</span><br><span class="line"></span><br><span class="line">                    <span class="type">Database</span>.database().reference()</span><br><span class="line">                        .child(<span class="string">&quot;users&quot;</span>)</span><br><span class="line">                        .child(userId)</span><br><span class="line">                        .setValue(userData)</span><br><span class="line"></span><br><span class="line">                    <span class="type">Database</span>.database().reference()</span><br><span class="line">                        .child(<span class="string">&quot;usernames&quot;</span>)</span><br><span class="line">                        .child(username)</span><br><span class="line">                        .setValue(userData)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                strongSelf.presentErrorAlert(title  : <span class="string">&quot;Usename In Use&quot;</span>,</span><br><span class="line">                                       message: <span class="string">&quot;Please enter a different name to continue.&quot;</span>)</span><br><span class="line">                strongSelf.removeLoadingView()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Ⅳ-Summary"><a href="#Ⅳ-Summary" class="headerlink" title="Ⅳ.Summary"></a>Ⅳ.Summary</h1><p>After the refactor, our code looks like this:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@IBAction</span> <span class="keyword">func</span> <span class="title function_">createAccountButtonTapped</span>(<span class="keyword">_</span> <span class="params">sender</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line">    showLoadingView()</span><br><span class="line">    checkIfExists(username: username) &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] usernameExists <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf <span class="operator">=</span> <span class="keyword">self</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="operator">!</span>usernameExists &#123;</span><br><span class="line">            strongSelf.createUser(username: username, email: email, password: password) &#123; result, error <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">                        strongSelf.presentErrorAlert(title: <span class="string">&quot;Create Account Failed&quot;</span>, message: error)</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">                    strongSelf.presentErrorAlert(title: <span class="string">&quot;Create Account Failed&quot;</span>, message: <span class="string">&quot;Please try again later.&quot;</span>)</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">let</span> userId <span class="operator">=</span> result.user.uid</span><br><span class="line">                <span class="keyword">let</span> userData: [<span class="type">String</span>: <span class="keyword">Any</span>] <span class="operator">=</span> [</span><br><span class="line">                    <span class="string">&quot;id&quot;</span>: userId,</span><br><span class="line">                    <span class="string">&quot;username&quot;</span>: username</span><br><span class="line">                ]</span><br><span class="line"></span><br><span class="line">                <span class="type">Database</span>.database().reference()</span><br><span class="line">                    .child(<span class="string">&quot;users&quot;</span>)</span><br><span class="line">                    .child(userId)</span><br><span class="line">                    .setValue(userData)</span><br><span class="line"></span><br><span class="line">                <span class="type">Database</span>.database().reference()</span><br><span class="line">                    .child(<span class="string">&quot;usernames&quot;</span>)</span><br><span class="line">                    .child(username)</span><br><span class="line">                    .setValue(userData)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            strongSelf.presentErrorAlert(title  : <span class="string">&quot;Usename In Use&quot;</span>,</span><br><span class="line">                                   message: <span class="string">&quot;Please enter a different name to continue.&quot;</span>)</span><br><span class="line">            strongSelf.removeLoadingView()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">checkIfExists</span>(<span class="params">username</span>: <span class="type">String</span>, <span class="params">completion</span>: <span class="keyword">@escaping</span> (<span class="keyword">_</span> result: <span class="type">Bool</span>) -&gt; <span class="type">Void</span> ) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Database</span>.database().reference().child(<span class="string">&quot;usernames&quot;</span>).child(username)</span><br><span class="line">        .observeSingleEvent(of: .value) &#123; snapshot <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">guard</span> <span class="operator">!</span>snapshot.exists() <span class="keyword">else</span> &#123;</span><br><span class="line">               completion(<span class="literal">true</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            completion(<span class="literal">false</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">createUser</span>(<span class="params">username</span>: <span class="type">String</span>, <span class="params">email</span>: <span class="type">String</span>, <span class="params">password</span>: <span class="type">String</span>, <span class="params">completion</span>: <span class="keyword">@escaping</span> (<span class="keyword">_</span> result: <span class="type">AuthDataResult</span>?, <span class="keyword">_</span> error: <span class="type">String</span>?) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Auth</span>.auth().createUser(withEmail: email, password: password) &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] result, error <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> strongSelf <span class="operator">=</span> <span class="keyword">self</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        strongSelf.removeLoadingView()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> error <span class="operator">=</span> error &#123;</span><br><span class="line">            <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">            <span class="keyword">var</span> errorMessage <span class="operator">=</span> <span class="string">&quot;Something went wrong. Please try again later.&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">let</span> errorCode <span class="operator">=</span> (error <span class="keyword">as</span> <span class="type">NSError</span>).code</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> authError <span class="operator">=</span> <span class="type">AuthErrorCode</span>(rawValue: errorCode) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">switch</span> authError &#123;</span><br><span class="line">                <span class="keyword">case</span> .emailAlreadyInUse:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Email already in use.&quot;</span></span><br><span class="line">                <span class="keyword">case</span> .invalidEmail:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Invalid email.&quot;</span></span><br><span class="line">                <span class="keyword">case</span> .weakPassword:</span><br><span class="line">                    errorMessage <span class="operator">=</span> <span class="string">&quot;Weak password. Please use at least 6 characters.&quot;</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span> </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            completion(<span class="literal">nil</span>, errorMessage)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> result <span class="operator">=</span> result <span class="keyword">else</span> &#123;</span><br><span class="line">            completion(<span class="literal">nil</span>, <span class="string">&quot;Something went wrong. Please try again later.&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        completion(result, <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The refactor improves the code by making it more modular and maintainable.<br>Each function now has a single responsibility, making the code easier to understand and extend.<br>It also reduces redundant code, improves error handling, and ensures better memory management, leading to more efficient and robust user account creation.</p>
<h1 id="Ⅴ-Postscript"><a href="#Ⅴ-Postscript" class="headerlink" title="Ⅴ.Postscript"></a>Ⅴ.Postscript</h1><p>When I was learning about modularization and refactoring functions, I honestly felt very anxious because the new approach seemed more complicated than the old one. I was overwhelmed at first, and I’m sure if you were in my shoes, you’d feel anxious too. Of course, if you’re already an experienced professional, you might think this is simple and wonder why I’m struggling with it. But when I asked several AIs for answers, they all gave me similar advice, which made me feel empowered.</p>
<p>AI:</p>
<h4 id="Don’t-Worry-About-Complexity-–-It’s-Part-of-the-Learning-Process"><a href="#Don’t-Worry-About-Complexity-–-It’s-Part-of-the-Learning-Process" class="headerlink" title="Don’t Worry About Complexity – It’s Part of the Learning Process"></a>Don’t Worry About Complexity – It’s Part of the Learning Process</h4><blockquote>
<p>It’s completely normal to feel like the refactored code is more complex, especially when you’re first learning about modularization and design principles like the Single Responsibility Principle (SRP). While breaking down a large function into smaller ones makes the code seem more spread out, it actually improves maintainability, extensibility, and readability in the long term.</p>
</blockquote>
<blockquote>
<p>The perceived complexity comes from separating concerns and organizing code in a more modular way. This makes it easier to test, debug, and extend, even if it feels like there’s more to understand at first.</p>
</blockquote>
<blockquote>
<p>Remember, it’s not about writing less complex code immediately, but about building better, more flexible structures that can handle future changes more easily.</p>
</blockquote>
<blockquote>
<p>As you continue learning and practicing, this kind of modular thinking will become second nature. Start small, refactor when necessary, and trust that this approach will lead to cleaner, more manageable code in the long run.</p>
</blockquote>
<p>If you’re also a beginner, I want to share this with you: <strong>it’s okay to feel confused at first, and this is part of the learning process</strong>.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://maimai10808.github.io">VermeerByte</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://maimai10808.github.io/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/">https://maimai10808.github.io/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Code-Refactoring/">Code Refactoring</a><a class="post-meta__tags" href="/tags/Functional-Programming/">Functional Programming</a><a class="post-meta__tags" href="/tags/Closures/">Closures</a><a class="post-meta__tags" href="/tags/Memory-Management/">Memory Management</a><a class="post-meta__tags" href="/tags/Firebase/">Firebase</a><a class="post-meta__tags" href="/tags/UI-Updates/">UI Updates</a><a class="post-meta__tags" href="/tags/Performance-Optimization/">Performance Optimization</a></div><div class="post-share"><div class="social-share" data-image="/images/swift.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/08/10/asdasd/" title="asdasd"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">asdasd</div></div><div class="info-2"><div class="info-item-1">asdasxasxas </div></div></div></a><a class="pagination-related" href="/2025/07/22/Taking%20more%20medicine%20doesn%E2%80%99t%20make%20you%20a%20doctor/" title="Taking more medicine doesn’t make you a doctor"><img class="cover" src="/images/lusuo.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Taking more medicine doesn’t make you a doctor</div></div><div class="info-2"><div class="info-item-1">  “Taking more medicine doesn’t make you a doctor.”  This simple sentence carries a quiet yet profound truth. On the surface, it appears obvious: one does not become a medical professional by virtue of being a patient. Swallowing pills, no matter how many, imparts no real understanding of anatomy, pathology, or healing. But the deeper implication of the phrase reaches far beyond medicine. It gently mocks a widespread illusion—that passive accumulation of experiences, repeated motions, or expo...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/07/17/Swift%20Closures/" title="Swift Closures"><img class="cover" src="/images/swift.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-17</div><div class="info-item-2">Swift Closures</div></div><div class="info-2"><div class="info-item-1">Swift ClosuresI. DefinitionClosures in Swift are defined as self-contained blocks of executable code that can capture variables or constants from their context. This means they can “remember” the environment in which they were created, even after that environment no longer exists. A common way to think of closures is as “nameless functions“though this is a simplification. II. FormsIn Swift, functions are technically a form of closure, leading to the following insights: All functions are closu...</div></div></div></a><a class="pagination-related" href="/2025/07/18/Trailing%20Closures%20in%20Swift/" title="Trailing Closures in Swift"><img class="cover" src="/images/swift.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-18</div><div class="info-item-2">Trailing Closures in Swift</div></div><div class="info-2"><div class="info-item-1">Trailing Closures in SwiftⅠ.IntroductionTrailing closures are one of Swift’s most distinctive and frequently used features, especially in asynchronous callbacks, animations, and data processing.  Let’s dive deep into this essential concept. Ⅱ.What is a Trailing Closure?A Trailing Closure is a special syntax in Swift where,if the final parameter of a function is a closure, you can write that closure outside the parentheses of the function call. This makes your code cleaner and more readable. A...</div></div></div></a><a class="pagination-related" href="/2025/07/19/Understanding%20()%20-%3E%20Void%20%20in%20Swift/" title="Understanding () -&gt; Void  in Swift"><img class="cover" src="/images/swift.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-19</div><div class="info-item-2">Understanding () -&gt; Void  in Swift</div></div><div class="info-2"><div class="info-item-1">Ⅰ.What is () -&gt; Void in Swift?It represents a closure that takes no parameters and returns no value.Let’s break it down:    Part Meaning    () No input parameters   -&gt; Indicates a return type   Void No return value (Void means nothing)   Ⅱ.In plain language:() -&gt; Void means: “A block of code that takes nothing in, returns nothing out — it just runs.” Example:12345let sayHello: () -&gt; Void = &#123;    print(&quot;Hello!&quot;)&#125;sayHello()  // Output: Hello!  This sayHello is a c...</div></div></div></a><a class="pagination-related" href="/2025/07/20/Understanding%20%20Escaping%20Closures%20in%20Swift/" title="Escaping vs Non-Escaping Closures in Swift"><img class="cover" src="/images/swift.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-20</div><div class="info-item-2">Escaping vs Non-Escaping Closures in Swift</div></div><div class="info-2"><div class="info-item-1">Ⅰ.What is an Escaping Closure?Definition:An escaping closure is a closure that is passed into a function as a parameter, but may be called after the function has already returned.In other words, the closure “escapes” the function’s scope. When declaring a function that takes a closure parameter, you use the @escaping keyword to indicate that the closure is allowed to escape the function body. This means the closure “escapes” the function’s body. Ⅱ. Why Do We Need Escaping Closures? (Example: ...</div></div></div></a><a class="pagination-related" href="/2025/07/21/When%20and%20Why%20to%20Use%20@escaping%20in%20Swift%20A%20Practical%20Guide/" title="When and Why to Use @escaping in Swift - A Practical Guide"><img class="cover" src="/images/swift.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-21</div><div class="info-item-2">When and Why to Use @escaping in Swift - A Practical Guide</div></div><div class="info-2"><div class="info-item-1">Ⅰ.IntroductionIn my last article, Escaping vs Non-Escaping Closures in Swift, we discussed the difference between escaping and non-escaping closures in Swift. Today, we’ll take a deeper look at escaping closures through real-world examples. Core Concept Sentence：A non-escaping closure executes during the function execution, while an escaping closure executes after the function has returned. Ⅱ.Non-Escaping ClosuresLifecycle The closure is passed as a parameter to a function The closure is exec...</div></div></div></a><a class="pagination-related" href="/2025/07/17/Functions%20as%20First-Class%20Citizens/" title="Functions as First-Class Citizens"><img class="cover" src="/images/swift.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-17</div><div class="info-item-2">Functions as First-Class Citizens</div></div><div class="info-2"><div class="info-item-1">Functions as First-Class CitizensI. What Are “First-Class Citizens”?First-Class Citizens refer to entities (typically data types) in a programming language that can be used like variables.   They must satisfy three key characteristics:    Characteristic Meaning    Assignable Can be assigned to variables or constants   Passable as parameters Can be passed as arguments to other functions   Returnable Can be returned from other functions   In Swift, functions are first-class citizens!  II. Demon...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">VermeerByte</div><div class="author-info-description">It‘s more fun to be a pirate than to join the Navy. —— Steve Jobs</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Maimai10808"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%85%A0-Introduction"><span class="toc-number">1.</span> <span class="toc-text">Ⅰ.Introduction</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%85%A1-Project-Background-Problem"><span class="toc-number">2.</span> <span class="toc-text">Ⅱ.Project Background &amp; Problem</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%85%A2-Refactor"><span class="toc-number">3.</span> <span class="toc-text">Ⅲ.Refactor</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Single-Responsibility-Principle-SRP"><span class="toc-number">3.1.</span> <span class="toc-text">Single Responsibility Principle (SRP)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#checkIfExists"><span class="toc-number">3.2.</span> <span class="toc-text">checkIfExists()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#createUser"><span class="toc-number">3.3.</span> <span class="toc-text">createUser()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#createAccountButtonTapped"><span class="toc-number">3.4.</span> <span class="toc-text">createAccountButtonTapped</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%85%A3-Summary"><span class="toc-number">4.</span> <span class="toc-text">Ⅳ.Summary</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%85%A4-Postscript"><span class="toc-number">5.</span> <span class="toc-text">Ⅴ.Postscript</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Don%E2%80%99t-Worry-About-Complexity-%E2%80%93-It%E2%80%99s-Part-of-the-Learning-Process"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">Don’t Worry About Complexity – It’s Part of the Learning Process</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/10/asdasd/" title="asdasd">asdasd</a><time datetime="2025-08-09T16:00:00.000Z" title="发表于 2025-08-10 00:00:00">2025-08-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/10/asdas/" title="asdas">asdas</a><time datetime="2025-08-09T16:00:00.000Z" title="发表于 2025-08-10 00:00:00">2025-08-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/10/asdasdddd/" title="asdasdddd">asdasdddd</a><time datetime="2025-08-09T16:00:00.000Z" title="发表于 2025-08-10 00:00:00">2025-08-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/10/%E4%BD%A0%E5%A5%BD%E4%B8%96%E7%95%8C/" title="你好世界">你好世界</a><time datetime="2025-08-09T16:00:00.000Z" title="发表于 2025-08-10 00:00:00">2025-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/" title="From Long Functions to Modular Code - Refactoring the User Account Creation Flow"><img src="/images/swift.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="From Long Functions to Modular Code - Refactoring the User Account Creation Flow"/></a><div class="content"><a class="title" href="/2025/07/25/From%20Long%20Functions%20to%20Modular%20Code%20Refactoring%20the%20User%20Account/" title="From Long Functions to Modular Code - Refactoring the User Account Creation Flow">From Long Functions to Modular Code - Refactoring the User Account Creation Flow</a><time datetime="2025-07-24T16:00:00.000Z" title="发表于 2025-07-25 00:00:00">2025-07-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/images/imagelogo2.jpg);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2025 By VermeerByte</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>